<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>一次関数プリント</title>
</head>
<body>
  <h1>一次関数プリント</h1>

  <button onclick="loadProblems()">問題生成</button>
  <button onclick="downloadPDF()">PDF作成</button>

  <ol id="problems-list"></ol>

  <script>
    async function loadProblems() {
      const response = await fetch("/generate?n=5");
      const problems = await response.json();
      const list = document.getElementById("problems-list");
      list.innerHTML = "";
      problems.forEach((p, i) => {
        const li = document.createElement("li");
        li.textContent = p.problem;
        list.appendChild(li);
      });
    }

    function downloadPDF() {
      const n = 5;
      window.open(`/pdf?n=${n}`, "_blank");
    }
  </script>
</body>
</html>
